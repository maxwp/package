Subject: Предварительные правила разработки и релизов в пакетах

Дата создания: 2011-06-01.
Автор: Maxim Miroshnichenko
Статус документа: в разработке
Ориентировочная дата полного внедрения: 2011-07-01.

==============================
Структура репозитория
==============================
В корне репозитория находятся ветки с пакетами.
Один пакет - одна ветка.

Например:
svn://svn.webproduction.com.ua/packages/PackageLoader/
svn://svn.webproduction.com.ua/packages/Engine/

==============================
Структура пакета в репозитории
==============================
Каждая пакет (ветка) считается отдельным проектом, в котором согласно
рекоммендациям и стратегиям subversion есть три ветки: trunk, tags, branches.
Например:

svn://svn.webproduction.com.ua/packages/Engine/trunk/
svn://svn.webproduction.com.ua/packages/Engine/tags/
svn://svn.webproduction.com.ua/packages/Engine/branches/

==============================
Общие рекомендации для подключения #wpp
==============================
Если вы разработчик и хорошо следите за #wpp - вытягивайте
пакеты из trunk-ов.

Если ваш проект уже в production - лучше использовать ветки tags/release/

==============================
trunk
==============================
Основной веткой разработки является trunk. Здесь всегда самый последний код.
trunk - это рабочая ветка. В ней могут быть ошибки, могут вноситься
критические исправления, нарушения обратной совместимости и так далее.

Важно: в trunk не должно быть fatal error-ов. Пакет всегда находиться в
рабочем состоянии. Если нужно внести изменение, которое приведет к фатальной
ошибке на некоторое время (например, не дописанный класс) - необходимо
воспользоваться бранчеванием ветки trunk.

Ветка trunk рекомендуется разработчикам и тестировшикам #wpp.

Когда проект, использующий #wpp выходит в production, то рекомендуется
переключиться на ветку tags/release/ или вытягивать конкретную ревизию из
trunk.

==============================
tags
==============================
tags - ветка релизов.
Релизы - это своего рода история проекта (пакета).

tags/release/ - самая последняя стабильная версия пакета.

Схема разработки проста: пакет разрабатывается и улучшается в trunk'e, по
достижению стабильного состояния он копируется на место /tags/release/, а
предыдущий tags/release/ копируется в /tags/release-date-name/.

Для каждого пакета будет составлен предварительный график обновлений
/tags/release/ - то есть можно знать дату, когда release резко прыгнет вверх.

==============================
branches
==============================
Бранчи - служебная ветка для разработчиков, для бранчевания.