Subject: Урок 1. Создание нового проекта на Engine

h2. Получение исходников Engine<br />
<br />
Пожалуйста, выберите далее один из подходящих для Вас способов построение проекта.<br />
<br />
h3. Вариант 1. Вы создаете новый проект с использованием SVN<br />
<br />
Если Вы создаете новый проект с использованием SVN то мы рекомендуем не копировать код Engine себе в репозиторий, а удаленно подключится к нашему репозиторию packages через svn:externals.<br />
Вы можете выгружать (подгружать) себе только необходимые пакеты или же весь репозиторий пакетов.<br />
<br />
Инструкция по подключению всех пакетов к своему репозиторию через svn:externals:<br />
# Ваш проект уже должен находиться в репозитории под контролем subversion (svn).<br />
# В корневой директории вашего проекта пропишите: svn propedit svn:extennals .<br />
# В открывшемся редакторе впишите packages<--tab-->svn://office.webproduction.com.ua/packages/trunk<br />
# Сохраните изменения, напишите svn up - subversion автоматически выгрузит все пакеты из ветки trunk.<br />
<br />
Аналогично вы можете через svn:externals выгружать только необходимые пакеты из репозитория. Пакеты будут доступны по путям:<br />
svn://office.webproduction.com.ua/packages/trunk/ИМЯ_ПАКЕТА<br />
<br />
h3. Вариант 2. Вы создаете новый проект без SVN, но при этом работаете под Linux/Mac-станцией и у Вас есть под рукой svn client<br />
<br />
В консоли напишите команду:<br />
svn export svn://office.webproduction.com.ua/packages/trunk packages<br />
<br />
В результате вы получите директорию packages, которую можете использовать в своих проектах.<br />
<br />
h3. Вариант 3. Получение всех исходников в одном архиве<br />
<br />
Самую последнюю сборку WebProduction Packages всегда можно скачать по адресам:<br />
http://packages.office.webproduction.com.ua/packages-trunk.tar.gz<br />
http://packages.site.cn.ua/packages-trunk.tar.gz<br />
Архив packages-trunk обновляется автоматически каждый час.<br />
<br />
h2. Настройка virtualhost'a<br />
<br />
Настройте виртуальный хост вашего веб-сервера на необходимую директорию вашего проекта.<br />
Например, создайте директорию /home/user/wwwproject/ и настройте виртуальный хост wwwproject.localhost.<br />
<br />
Обратите внимание! Проект будет работать только на отдельном домене/поддомене. Иными словами, если вы обращаетесь к нему как: http://localhost/.../wwwproject/ - работать не будет,<br />
а если http://wwwproject.localhost/ - будет.<br />
<br />
Причина такого поведения кроется в настройке setLocal() класса Engine_URLParser.<br />
<br />
h2. Базовое конфигурирование пакетов и Engine<br />
<br />
Поместите внутрь вашей директории wwwproject директорию packages.<br />
<br />
Скопируйте следующие файлы из архива packages/Engine/_install/2.6-default.tar.gz в корень вашего проекта wwwproject:<br />
<br />
* .htaccess<br />
* contents.php<br />
* contents.xml<br />
* engine.config.php<br />
* engine.mode.php<br />
* и директорию /contents/<br />
<br />
Дополнительно:  отредактируйте файлы (при необходимости):<br />
<br />
* В файле engine.config.php при необходимости опишите как должен вести себя Engine в зависимости от различных режимов работы. По умолчанию установлен режим development, в котором движок проверяет и автоматически строит (генерирует) все недостающие контенты.<br />
* В файле engine.mode.php пропишите необходимые настройки соединения с базой данных (если Вам необходимо использовать БД).<br />
* В файле engine.mode.php установите необходимые настройки режима работы (определите режим если необходимо). По умолчанию выставлен режим development. См. также Режимы работы Engine.<br />
<br />
h2. Проверка<br />
<br />
Зайдите в браузере URL http://wwwproject.localhost/, который Вы прописали в virtualhost'e - все заработает! :-)<br />
Если что-то не получится, можете смело обращаться к нам за помощью - http://webproduction.com.ua/contacts.html<br />